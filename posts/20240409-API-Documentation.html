<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/posts.css">
    <meta property="og:site_name" content="enstrayed.com">

    <meta property="og:url" content="https://enstrayed.com/posts/20240409-API-Documentation.html">

    <title>api.enstrayed.com Documentation</title>
    <meta property="og:title" content="api.enstrayed.com Documentation">

    <meta name="description" content="List of all endpoints and associated information for api.enstrayed.com.">
    <meta property="og:description" content="List of all endpoints and associated information for api.enstrayed.com.">

</head>
<body>
    <a href="https://enstrayed.com">Return to enstrayed.com</a>
    <h1>api.enstrayed.com Documentation</h1>
    <p>This page was last updated 2024-06-26.</p>
    <p>All GET endpoints are read-only unless otherwise noted. Recommended to use CTRL+F to find the endpoint you're looking for since I didn't feel like setting up anchors.</p>

    <p>Source Code & Issue Tracker: <a href="https://github.com/enstrayed/enstrayedapi">github.com/enstrayed/enstrayedapi</a></p>

    <h3>Permalinks to this page:</h3>
    <a href="https://etyd.cc/apidocs">https://etyd.cc/apidocs</a><br>
    
    <hr>

    <h2>GET /</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/index.js#L27">index.js:27</a>
    <p>Returns the commit the container is running in HTML format.</p>

    <h2>GET /blogposts</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/routes/blog.js#L6">blog.js:6</a>
    <p>By default, this will return a JSON array with all of the blog posts on my website, however, if <code>?format=html</code> is used in the URL it will return the same but in HTML.</p>
    <p>The result will only include posts in the directory set in the servers config.json that match a naming convention.</p>

    <h2>GET /nowplaying</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/routes/nowplaying.js#L14">nowplaying.js:14</a>
    <p>Returns whatever I'm listening to via the Last.fm API in JSON. If <code>?format=html</code> is used in the URL it will return the same but in HTML. If nothing is playing the JSON response will just have <code>"playing": false</code>.</p>

    <h2>GET /etyd</h2>
    <p>Internal use only: Requests to etyd.cc have their request rewritten to this endpoint.</p>

    <h2>POST /etyd/*</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/routes/etyd.js#L80">etyd.js:80</a>
    <p>Creates a new redirect for etyd.cc. Replace * in the URL for the target (eg. etyd.cc/target), and urlValue in the body with the URL to be redirected to.</p>
    <span>Required Headers:</span>
    <ul>
        <li><code>Authorization</code>: An API key for the <code>etyd</code> scope</li>
    </ul>
    <span>Required Body (JSON):</span>
    <pre><code>{
        "url": "urlValue"
}</code></pre>

    <h2>DELETE /etyd/*</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/routes/etyd.js#L28">etyd.js:28</a>
    <p>Deletes an existing redirect for etyd.cc. Replace * in the URL for the target (eg. etyd.cc/target)</p>
    <span>Required Headers:</span>
    <ul>
        <li><code>Authorization</code>: An API key for the <code>etyd</code> scope</li>
    </ul>

    <h2>GET /ip</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/routes/ip.js#L3">ip.js:3</a>
    <p>Returns JSON containing the IP, Country and Cloudflare Ray IDs as present in the request headers.</p>    

    <h2>GET /headers</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/routes/ip.js#L13">ip.js:13</a>
    <p>Returns JSON containing all the headers received by the server.</p>

    <h2>POST /sendemail</h2>
    <a href="https://github.com/Enstrayed/enstrayedapi/blob/main/routes/mailjet.js#L3">mailjet.js:3</a>
    <p>Sends an email to the specified recipient, intended for application & automation use.</p>

    <span>Required Headers:</span>
    <ul>
        <li><code>Authorization</code>: An API key for the <code>mailjet</code> scope</li>
    </ul>
    <span>Required Body (JSON):</span>
    <pre><code>{
        "recipient": "recipientEmailHere",
        "subject": "emailSubjectHere",
        "message": "emailBodyHere"
}</code></pre>
</body>
</html>